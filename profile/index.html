<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
            crossorigin="anonymous"></script>

        <!-- Global CSS (CSS rules you want applied to all pages) -->
        <link rel="stylesheet" href="../global.css">

        <!-- Page-specific CSS -->
        <link rel="stylesheet" href="./profile.css">

        <title>Profile | YouCreate</title>

        <!-- Run BEFORE page is finished loading (before window.onload): -->
        <script src="../auth.js"></script>
        <script>
        // if (isLoggedIn() === false) window.location.replace("/"); 
        </script>
    </head>


    <body>

        <div class="navbar">

            <div class="navbar-logo">
                <a href="../posts/index.html"> <img src="../images/ucreate-logo.png" alt="UCreate"></a>

            </div>

            <div class="page-links">
                <ul>
                    <li><a href="../saves/index.html"><img src="../images/saves.png" class="nav-icons"></a></li>
                    <li><button type="button" id="openSettingsModalButton"><img src="../images/settings.png"
                                class="nav-icons"></button></li>
                    <div id="settingsModal" class="modal">
                        <div class="modal-content">
                            <span class="close" id="close-settings">&times;</span>
                            <h3>User Settings</h3>
                            <hr>

                            <br>
                            <div class="settingsUserData">

                                <div class="edit-button">
                                    <br>
                                    <h5>Personal Information</h5>
                                    <button type="button" id="edit-data-button">Edit</button>
                                </div><br>

                                <div id="settings-container">
                                    <div id="left-side-settings">

                                        <div class="user-info-fields">
                                            <h6>Full Name: </h6>
                                            <div id="full-name-container" class="user-info-containers"></div>
                                            <div class="edit-user-data">
                                                <input type="text" name="full-name" id="edit-full-name">
                                            </div>
                                        </div>

                                        <div class="user-info-fields">
                                            <h6>Username: </h6>
                                            <div id="username-container" class="user-info-containers"></div>
                                            <div class="edit-user-data">
                                                <input type="text" name="username" id="edit-username">
                                            </div>
                                        </div>

                                        <div class="user-info-fields">
                                            <h6>Email: </h6>
                                            <div id="email-container" class="user-info-containers"></div>
                                            <div class="edit-user-data">
                                                <input type="text" name="email" id="edit-email">
                                            </div>
                                        </div>

                                        <br>
                                        <div class="user-info-fields">
                                            <h6>Password: </h6>
                                            <div id="password-container"><button type="button"
                                                    class="btn btn-outline-dark">Reset Password</button></div>
                                            <p></p>
                                        </div>
                                    </div>

                                    <div id="right-side-settings">
                                        <div class="user-info-fields">
                                            <h6>Bio: </h6>
                                            <div id="settings-bio-container" class="user-info-containers">
                                                <p></p>
                                            </div>
                                            <div class="edit-user-data">
                                                <input type="text" name="bio" id="edit-bio" placeholder="Edit your bio here">
                                            </div>
                                        </div>
                                        <div class="user-info-fields">
                                            <h6>Location: </h6>
                                            <div id="location-container" class="user-info-containers">
                                                <p></p>
                                            </div>
                                            <div class="edit-user-data">
                                                <input type="text" name="location" id="edit-location">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <br>
                                <h5>Preferences</h5>
                                <h6><input type="checkbox" id="email-notis" name="email-notis" value="true">
                                    <label for="email-notis">I'd like to receive email notifications.</label>
                                </h6>

                                <br>
                                <h5>Privacy</h5>

                            </div>
                            <br>
                            <div id="account-action-buttons" style="display: flex;">
                                <br><button type="button" class="btn btn-outline-success" id="save-changes">Save Changes</button>
                                <br><button type="button" class="btn btn-outline-danger" id="delete-account">Delete Account</button>
                            </div>
                            
                            <div id="delete-account-modal" class="modal">
                                <div class="modal-content" id="confirm-account-deletion">
                                    <h3>Please confirm your password</h3>
                                   
                                    <div id="delete-account-content">
                                        <input type="password" id="password-confirmation" name="password-confirmation"><br>
                                        <br>
                                        <div id="action-buttons">
                                            <button type="button" class="btn btn-danger" id="really-delete">Delete Account</button><br><hr>
                                            <br><p>We'd hate to see you go..</p>
                                            <button type="button" class="btn btn-outline-success" id="cancel-delete">Cancel</button>
                                        </div>
                                    </div>    
                                </div>
                            </div>

                        </div>
                    </div>
                    <li><button id="logout" class="btn btn-outline-dark">Logout</button></li>
                </ul>

            </div>
        </div>

        <hr>


        <main>

            <div class="user-info-fields-main">
                <div class="userInfo">
                    <div class="img-name">
                        <button type="button" id="openAvatarModalButton">
                            <div id="userProfileImg"></div>
                            <div id="defaultProfileImg">
                                <img src="../images/profile.png" alt="profile image" id="profile-img">
                            </div>
                        </button>
                        <div id="avatarModal" class="modal">
                            <div class="modal-content">
                                <span class="close" id="close-avatar">&times;</span>
                                <div id="userAvatarContainer"></div>

                                <div id="defaultAvatar">
                                    <img src="../images/profile.png" alt="profile image" id="edit-profile-img">
                                </div>

                                <hr><br>
                                <div class="edit-avatar-buttons">
                                    <button
                                        type="button" id="deleteAvatar">Delete</button><br>
                                    <button
                                        type="button"><!--<img src="/images/camera-icon.png" class="edit-profile-img-icons">-->Add</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div id="userDataContainer"></div>

                </div>

                <div class="about">
                    <p class="aboutMe">About Me</p>
                    <div id="bioContainer">
                        <div class="bio-display" id="bioDisplay"></div>
                        <div class="bio-edit" id="bioEdit">
                            <textarea id="biotext" cols="30" rows="10" placeholder="Edit your bio here"></textarea><br>
                            <button id="saveBio" class="btn btn-outline-dark">Save</button>
                        </div>
                    </div>

                    <div class="skillsDisplay" id="skillsDisplay">
                        <br>
                        <p><b>Skills</b></p>
                        <img src="../images/skill-icons/procreate-icon.png">
                        <img src="../images/skill-icons/photoshop-icon.png">
                        <img src="../images/skill-icons/blender-icon.png">
                        <img src="../images/skill-icons/premiere-icon.jpg" style="height: 45px; width: 45px;">

                        <button type="button" id="openSkillsModalButton">+</button>
                    </div>

                    <div id="skillsModal" class="modal">
                        <div class="modal-content">
                            <span class="close" id="close-skills">&times;</span>
                            <h3 class="skill-header">Add Skills</h3>
                            <form id="searchForm" class="skill-form">
                                <input type="text" name="searchQuery" placeholder="Adobe Lightroom" id="searchQuery">
                                <button type="submit" class="searchButton"><img src="../images/search.png"
                                        class="nav-icons"></button>
                                <button type="button" id="showAllSkills" class="btn btn-light">Show All</button>
                            </form>

                            <div id="searchResults"></div>
                        </div>
                    </div>


                </div>
            </div>

            <br>
            <hr><br>

            <div class="posts">

                <div class="mine">
                    <h4 class="header">My Posts</h4>
                    <div id="profileContainer"></div>
                </div>
            </div>

        </main>

        <!-- Page-specific code -->
        <script src="./profile.js"></script>
        <script src="./setup.js"></script>
    </body>

</html>